!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=r(n(1));r(n(6));(new o.default).start()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(2),i=n(4),a=n(5);n(3);e.default=function(){var t=void 0,e=void 0,n=function(t){return t.stopPropagation(),t.preventDefault()},u=function(t){return n(t),e.zoomIn(),0},s=function(t){return n(t),e.zoomOut(),0},c=function(t){return n(t),e.rotateLeft(),0},l=function(t){return n(t),e.rotateRight(),0},d=function(){o._document.querySelector(".zoom-in").addEventListener("click",u),o._document.querySelector(".zoom-out").addEventListener("click",s)},f=function(){o._document.querySelector(".rotate-left").addEventListener("click",c),o._document.querySelector(".rotate-right").addEventListener("click",l)};return{start:function(){if("undefined"===!("undefined"==typeof _widget?"undefined":r(_widget)))throw new Error("You can use only one instance of Application!");if(null==o._document)throw new Error("Cannot get document of window!");e=new i.viewPort,t=new a.Widget(e),d(),f(),t.loadData("resourses/testData.json")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._fixDigit=e._getPercentFn=e._valueToheight=e._gradToRadian=e._getSectorWidth=e._diff=e._pixel=e._color=e._windowInnerHeight=e._windowInnerWIdth=e._document=e._window=void 0;var r=n(3),o=e._window=new Function("return this;")(),i=(e._document=o.document,e._windowInnerWIdth=o.innerWidth,e._windowInnerHeight=o.innerHeight,e._color=function(t,e,n){return{red:t,green:e,blue:n}},e._pixel=function(t,e,n){return{x:t,y:e,color:n}},e._diff=function(t,e){return t>e?t-e:e-t});e._getSectorWidth=function(t,e){return Math.PI*t*e/180},e._gradToRadian=function(t){return t*Math.PI/180},e._valueToheight=function(){var t=i(r.REGIONS_NAME_RADIUS,r.REGION_ITEM_PERCENTAGE_TEXT);return function(e){return t*e/100}}(),e._getPercentFn=function(t){return function(e){return 100*e/t}},e._fixDigit=function(t){return(10*t|0)/10}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MAX_SCALE=1.3,e.MIN_SCALE=.6,e.SCALE_STEP=.3,e.ROTATION_STEP=25,e.CENTRAL_PLACE_COLOR="#2E3643",e.REGIONS_COLOR="#585E69",e.REGIONS_TEXT_COLOR="#FAFAFA",e.REGIONS_VALUE_COLOR="#FFFFFF",e.PERCENTAGE_COLOR="#CFD7DA",e.REGIONS_BORDER_COLOR="#000000",e.PERCENTAGE_SECTOR_COLOR="#662B5B",e.CENTRAL_RADIUS=80,e.REGIONS_NAME_RADIUS=110,e.REGION_ITEM_PERCENTAGE=250,e.REGION_ITEM_PERCENTAGE_TEXT=230,e.REGION_ITEM_VALUE_RADIUS=290,e.REGION_ITEM_RADIUS=330,e.CHARS_BETWEEN_DELTA=.002,e.MAX_BOORDER_WIDTH=6},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.viewPort=void 0;var r=n(2),o=n(3);e.viewPort=function(){var t=r._document.querySelector("#widgetPane"),e=t.getContext("2d"),n=!1,i=void 0,a=void 0,u=2*(r._windowInnerWIdth/2|0),s=2*(r._windowInnerHeight/2|0),c=1,l=[function(){n=!0,console.log("start")}],d=[function(){n=!1,console.log("animation end")}],f=0,p=function(t){e.strokeStyle=t},h=function(){if(!n){var e="rotate("+f+"deg) scale("+c+")";R(),t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}},_=function(){return E("ease-in")},v=function(){return E("ease-in-out")},m=function(){return E("cubic-bezier(0.3, 0.27, 0.07, 1.64)")},E=function(e){var n="all 0.7s "+e;t.style.webkitTransition=n,t.style.MozTransition=n,t.style.msTransition=n,t.style.OTransition=n,t.style.transition=n},g=function(){return m(),h()},R=function(t){return l.map(function(e){return e(t)})},T=function(){return e.clearRect(0,0,u,s)},O=function(t){return e.lineWidth=t},b=function(t){return e.fillStyle=t},A=function(){return e.font.replace(/^([\d]+).*$/,"$1")},I=function(t,e){return t*e},S=function(t,n){for(;!function(e){return t-e-o.MAX_BOORDER_WIDTH>0}(e.measureText(n).width);)if((n=n.substring(0,n.length-4)+"...").length<=4)return n;return n};return t.addEventListener("transitionstart",R,!1),t.addEventListener("transitionend",function(t){return d.map(function(e){return e(t)})},!1),t.width=u,t.height=s,i=u/2,a=s/2,e.textAlign="center",e.transform(1,0,0,1,i,a),e.save(),T(),{clear:T,drawCircle:function(t,n,r){e.beginPath(),e.arc(t.x,t.y,n,0,2*Math.PI,!1),e.fillStyle=r,e.fill()},rotateLeft:function(){n||(f-=o.ROTATION_STEP,f=(0,r._fixDigit)(f),g())},rotateRight:function(){n||(f+=o.ROTATION_STEP,f=(0,r._fixDigit)(f),g())},zoomIn:function(){n||c>=o.MAX_SCALE||(c+=o.SCALE_STEP,c=(0,r._fixDigit)(c),_(),h())},zoomOut:function(){n||c<=o.MIN_SCALE||(c-=o.SCALE_STEP,c=(0,r._fixDigit)(c),v(),h())},addAnimationStartHandler:function(t){return l.push(t)},addAnimationEndHandler:function(t){return d.push(t)},drawLinesFromVertexMap:function(t){t.map(function(t){var n=t.to,r=t.from,o=t.width,i=n.color;i&&p(i),o&&O(o),e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(n.x,n.y),e.stroke()})},setLineWidth:O,setColor:b,drawSectorText:function(t,n,i){n&&(e.font=n),i&&b(i);A();t.map(function(t){var n=t.angle,i=t.radius,a=t.text,u=(0,r._diff)(n.from,n.to),s=Math.PI/2+n.from+u/2,c=I(i.to,(0,r._diff)(n.from,n.to)),l=S(c,a),d=e.measureText(l).width,f=l.length,p=d/l.length/i.to+o.CHARS_BETWEEN_DELTA,h=s-p*f/2,_=h+p/2;e.rotate(h+p/2),l.split("").map(function(t,n){e.fillText(t,0,-i.to),e.rotate(p),_+=p}),e.rotate(-_)})},drawSectors:function(t,n){n&&p(n),t.map(function(t,n){e.beginPath(),O(t.height),e.arc(0,0,t.fromRadius+t.height/2,t.from,t.to),e.fill(),e.stroke()})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;var r=n(2),o=n(3);e.Widget=function(t){"use asm";var e=function e(){t.drawCircle((0,r._pixel)(0,0,null),o.REGION_ITEM_RADIUS,o.REGIONS_COLOR)};var n=function e(){t.drawCircle((0,r._pixel)(0,0,null),o.REGION_ITEM_VALUE_RADIUS,o.REGIONS_VALUE_COLOR)};var i=function e(){t.drawCircle((0,r._pixel)(0,0,null),o.REGION_ITEM_PERCENTAGE,o.PERCENTAGE_COLOR)};var a=function e(n){t.drawCircle((0,r._pixel)(0,0,null),o.REGIONS_NAME_RADIUS,o.REGIONS_COLOR);var i=n.reduce(function(t,e){t+=e.metrics.length;return t},0);var a=360/i;var u=0;var s=[];var c=[];var l=[];var d=[];var f=[];var p=[];var h=n.reduce(function(t,e){var n=e.metrics.reduce(function(t,e){return t>e.value?t:e.value},0);return t>n?t:n},0);var _=(0,r._getPercentFn)(h);var v=n.reduce(function(t,e){var n=u;u+=a*e.metrics.length;var i=Math.round(o.REGION_ITEM_RADIUS*Math.cos((0,r._gradToRadian)(u)));var h=Math.round(o.REGION_ITEM_RADIUS*Math.sin((0,r._gradToRadian)(u)));s.push({text:e.category,angle:{from:(0,r._gradToRadian)(n),to:(0,r._gradToRadian)(u)},radius:{to:o.CENTRAL_RADIUS+9}});f=e.metrics.reduce(function(t,e,i){var u=n+a*i;var s=n+a*(i+1);var f=_(e.value);var h=Math.round(o.REGION_ITEM_RADIUS*Math.cos((0,r._gradToRadian)(u)));var v=Math.round(o.REGION_ITEM_RADIUS*Math.sin((0,r._gradToRadian)(u)));var m=Math.round(o.REGIONS_NAME_RADIUS*Math.cos((0,r._gradToRadian)(u)));var E=Math.round(o.REGIONS_NAME_RADIUS*Math.sin((0,r._gradToRadian)(u)));if(i!==0){t.push({from:(0,r._pixel)(m,E,"#FFFFFF"),to:(0,r._pixel)(h,v,"#FFFFFF"),width:2})}e.value>0&&p.push({to:(0,r._gradToRadian)(s),from:(0,r._gradToRadian)(u),fromRadius:o.REGIONS_NAME_RADIUS,height:(0,r._valueToheight)(f),_debugItem:e});c.push({text:((f|0)==f?f:f.toFixed(1))+"%",angle:{to:(0,r._gradToRadian)(s),from:(0,r._gradToRadian)(u)},radius:{to:o.REGION_ITEM_PERCENTAGE_TEXT+4}});l.push({text:e.value?e.value+"":"0",angle:{to:(0,r._gradToRadian)(s),from:(0,r._gradToRadian)(u)},radius:{to:o.REGION_ITEM_PERCENTAGE+11}});d.push({text:e.name,angle:{to:(0,r._gradToRadian)(s),from:(0,r._gradToRadian)(u)},radius:{to:o.REGION_ITEM_VALUE_RADIUS+15}});return t},[]);t=t.concat(f);t.push({from:(0,r._pixel)(0,0,o.REGIONS_BORDER_COLOR),to:(0,r._pixel)(i,h,o.REGIONS_BORDER_COLOR),width:4});return t},[]);t.drawSectors(p,o.PERCENTAGE_SECTOR_COLOR);t.setLineWidth(4);t.drawLinesFromVertexMap(v);t.drawSectorText(s,"16px Arial","#FFFFFF");t.drawSectorText(c,"17px Arial","#000000");t.drawSectorText(l,"24px Arial","#000000");t.drawSectorText(d,"12px Arial","#000000")};var u=function u(){e();n();i();a([{category:"Sector",metrics:[{name:"Accom.&Food",value:147},{name:"Educ.&HH",value:227},{name:"Manufacturing",value:7},{name:"Other",value:73},{name:"Real Est. & Con.",value:402},{name:"Services",value:20},{name:"Whols. & Retail",value:36}]},{category:"Region",metrics:[{name:"CENTRAL TEAMS",value:225},{name:"LONDON & SE",value:135},{name:"MIDLANDS & WALES",value:111},{name:"NORTH",value:151},{name:"OTHER",value:232},{name:"SCOTLAND, NI & NE ENGLAND",value:28},{name:"THAMES VALLEY & SW",value:31}]},{category:"Rating",metrics:[{name:"1 to 3",value:600},{name:"4 to 6",value:166},{name:"7 to 9",value:0},{name:"Unrated",value:148}]},{category:"Performance",metrics:[{name:"FEVE Monitor",value:0},{name:"FEVE Seriour",value:0},{name:"NPL",value:913},{name:"UTD",value:0}]}]);t.drawCircle((0,r._pixel)(0,0,null),o.CENTRAL_RADIUS,o.CENTRAL_PLACE_COLOR)};var s=function t(e){if(typeof e==="undefined"){throw new Error("Method load data need argument!")}u();console.log("data load from",e)};return{loadData:s}}},function(t,e,n){var r=n(7);"string"==typeof r&&(r=[[t.id,r,""]]);var o={hmr:!0};o.transform=void 0;n(13)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(8)()).push([t.id,"/* reset css */\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n/* end reset css */\n\n/* app styles */\n.main-app {\n    transform: rotate3d(0, 0, 0, 0);\n    box-sizing: border-box;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n    min-width: 640px;\n    min-height: 420px;\n}\n\n#widgetPane {\n    box-sizing: border-box;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.controls {\n\tposition: fixed;\n\tleft: 10px;\n\ttop: 10px;\n}\n\n.controls button {\n\twidth: 40px;\n\theight: 40px;\n\tcursor: pointer;\n}\n\n.zoom-in {\n\tbackground: url("+n(9)+") no-repeat center transparent;\n}\n\n.zoom-out {\n\tbackground: url("+n(10)+") no-repeat center transparent;\n}\n\n.rotate-left {\n\tbackground: url("+n(11)+") no-repeat center transparent;\n}\n\n.rotate-right {\n\tbackground: url("+n(12)+") no-repeat center transparent;\n}\n/* end app styles */",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){t.exports=n.p+"/assets/zoom-in.png"},function(t,e,n){t.exports=n.p+"/assets/zoom-out.png"},function(t,e,n){t.exports=n.p+"/assets/rotate-left.png"},function(t,e,n){t.exports=n.p+"/assets/rotate-right.png"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=h[r.id];if(o){o.refs++;for(a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(l(r.parts[a],e))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(l(r.parts[a],e));h[r.id]={id:r.id,refs:1,parts:i}}}}function o(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function u(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),i(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),i(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var c=E++;n=m||(m=u(e)),r=d.bind(null,n,c,!1),o=d.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n,e),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function d(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=T(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=R(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}var h={},_=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){if(void 0===e[n]){var r=t.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[n]=r}return e[n]}}(function(t){return document.querySelector(t)}),m=null,E=0,g=[],R=n(14);t.exports=function(t,e){(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=_()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var u=n[a];(s=h[u.id]).refs--,i.push(s)}t&&r(o(t,e),e);for(a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete h[s.id]}}}};var T=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return t;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}}]);